---
sidebarTitle: "KON 신규 개발"
---

# KON

기존 설문 플랫폼이 가진 문제점을 해결하고,<br />
회사 연구원들의 불필요한 설문 작업을 줄이기 위해 신규 개발을 진행했습니다.


## 1. 업무 개요

- 역할: 풀스택 개발
- 기술 스택: Classic ASP, Javascript, SQL Server 2017
- 업무 목표:
  - 웹 설문 도메인 기반으로 재설계한 설문 플랫폼을 통해 연구팀의 설문 생성·검증 프로세스를 구조적 개선
  - 웹 설문 전체 프로세스를 플랫폼 팀이 관리하여, 정량적 KPI 측정을 가능하게 함
  - DB구조 개선을 통해 프로젝트 유지보수 및 확장성 확보
  - 기존 플랫폼 대비 설문 생성 속도 200% 이상 증가



## 2. 문제와 해결

### 2-1. 스키마 유연성 개선을 통한 확장성 확보

#### 🚧 문제

기존 설문 플랫폼은 문항이 늘어날 때마다 테이블 컬럼을 직접 추가하는 구조를 사용했습니다.  
이로 인해 다음과 같은 구조적 문제가 반복적으로 발생했습니다:

- 문항 수 증가 → 테이블 컬럼 증가 → **한 row당 Null 필드 다수 발생**  
- SQL Server 컬럼 수 제한에 도달해 **프로젝트를 강제로 분리**해야 했고,  
  이후 프론트엔드에서 다수 프로젝트를 병합해 처리해야 하는 비효율이 발생  
- 데이터가 여러 테이블로 분산되면서 **PK의 원자성·일관성이 쉽게 깨짐**  
- 가장 위험한 문제는, **스키마 변경이 프로덕션에 즉시 반영되는 운영 방식**이었음
  - 배포·검증 단계 없이 바로 적용  
  - 실시간 운영 중 데이터 스키마가 바뀌며 **롤백 불가 / 호환성 문제** 발생 가능  
  - 개발·운영 환경이 분리되지 않아 장애 리스크가 항상 존재  

**결과적으로, 문항 수가 많은 설문일수록 비용 증가·데이터 품질 저하·확장성 부족 문제가 심각해지는 구조였습니다.**

#### 🧪 근거

- 대형 설문(200+ 문항) 기준 평균 **Null 비율 65~80%** 관측  
  (DB 프로파일링 도구 및 시스템 내부 통계 기반 측정)
- 컬럼 수 한계(최대 1024컬럼)에 근접한 테이블이 증가해  
  **연간 3~5개 프로젝트를 강제 분리해 운영**한 이슈 존재  
- 스키마 변경 작업이 프로젝트당 평균 **1~2일의 개발·QA 공수**를 소모
- 스키마 변경 작업은 사전 테스트 없이 prod에 바로 적용되어  
  장애 가능성이 상존하는 **고위험 운영 구조**로 지적됨  
  - 실제로 구조 변경 직후 응답 기록과 스키마가 맞지 않아  
    **데이터 정합성 이슈가 수차례 발생** 

이러한 측정 결과는 컬럼 기반 구조, 스키마 변경 작업을 지속하는 것이 장기 운영에 적합하지 않다는 점을 명확히 보여주었습니다.

#### ✅ 해결

DB 구조를 **문항 중심 컬럼 구조에서 ‘응답 기반 JSON 구조’로 전면 전환**했습니다.

> 설문 데이터는 매번 구조가 변할 수 있는 도메인이라고 보았고,
이런 유동성을 DB 스키마로 고정하기보다,
더 유연하게 담아낼 수 있는 JSON 기반 모델을 택했습니다. (마침 SQL Server 2016 이상에서 JSON 타입을 지원)


- 설문 문항 템플릿을 JSON Schema로 관리  
- 사용자가 실제로 응답한 데이터만 JSON으로 저장  
- 출력 시에는 템플릿을 기준으로 필요한 값만 매핑하여 일관된 결과 생성  
- 문항 추가·변경 시 **DB 스키마 변경이 완전히 불필요**  
- 사소한 수정이라도 prod 스키마가 직접 영향을 받던 운영 위험 제거  
- 데이터 저장 형태가 단일화되면서 PK 일관성 및 데이터 무결성 확보  

**결과**

- Null 비율 *80% → 0%*  
- 스키마 변경 공수 및 운영 리스크 *완전 제거*  
- 프로젝트 분리 없이 대형 설문 처리 가능  
- 데이터 구조 안정화 및 분석 파이프라인 단순화  


### 2-2. 웹 설문 프로세스 개선

#### 🚧 문제

기존 웹 설문 제작 프로세스는 연구원의 기초 작업과 개발자의 보조 작업이 결합된 형태였으며,  
설문 구조 자체가 UI 기반 수작업에 의존하는 방식이었습니다.  
이로 인해 다음 문제가 지속적으로 발생했습니다:

- 설문 제작 단계가 여러 역할에 분산되어 **작업 속도·품질 편차 발생**
- 문항 패턴 작성, 반복 입력, 대량 변환 등 **자동화가 필요한 작업이 수작업으로 처리**
- 콘텐츠(Word/Hwp 등) 기반 설문을 웹 구조로 변환하는 과정에서 **규칙 없는 매뉴얼 작업 발생**
- 코드/템플릿 재사용성이 없어 **프로젝트별 중복 작업 증가**

전체 프로세스가 “사용자 친화형 UI” 중심으로 설계되어  
생산성과 일관성을 확보하기 어려운 구조였습니다.

#### 🧪 근거

내부 작업 로그 및 프로세스 분석 결과:

- 설문 제작 단계 중 **30~40%가 개발자 개입 필요**  
- 문항 변환·패턴 구성 작업의 **반복률이 높고 자동화 비율이 매우 낮음**  
- Word/Hwp → 웹 전환 과정에서 **문항 누락·구조 오차가 지속적으로 발생**  
- 설문 단위로 동일 패턴을 재사용할 방법이 없어  
  **프로젝트별 중복 구현이 빈번하게 확인됨**

이러한 지표는 기존 프로세스가 자동화·패턴화에 적합하지 않은 구조임을 보여줬습니다.

#### ✅ 해결

설문 제작 전체를 **도메인 특화 프로세스** 로 재설계하여  
연속적·자동화 가능한 작업 구조로 전환했습니다.

- **정규표현식 기반 문항 파서 도입**  
  - contenteditable이 적용된 영역에 복붙된 원문에서 문항·설명·보기 등을 자동 식별
    > contenteditable 속성은 브라우저가 제공하는 Rich Text Editor 기능 중 하나로,<br />사용자가 텍스트를 직접 편집할 수 있는 영역을 제공하는 기능입니다.
  - 텍스트 기반 대량 문항 입력을 구조화된 데이터로 즉시 변환  
- **코드/패턴 아카이브 시스템 구축**  
  - 설문 패턴 코드를 사이트에서 작성·저장
    > CodeMirror 라이브러리를 사용하여 코드 편집기 기능을 구현
  - 프로젝트 간 재사용 가능하도록 템플릿화
- **단축키 및 반복 작업 자동화 기능 추가**  
  - 문항 구성·패턴 변환·수정 작업의 입력 비용 최소화  
- **웹 설문 편집기를 ‘생산성 중심’으로 재구성**  
  - 연구원이 UI 클릭 기반이 아닌  
    도메인 규칙 기반(패턴/정규식/템플릿)으로 작업할 수 있도록 설계

이로써 설문 작성의 핵심 단계가 자동화되어  
연속적인 시스템 기반 프로세스로 흡수되었습니다.


#### 📈 결과

- 수작업 중심 프로세스에서 **패턴 기반 자동화 프로세스로 전환**  
- 설문 제작 속도 **약 2~5배 향상**  
- 연구원이 참여하는 프로젝트 비율 **80% 감소**
- 문항 구조 변환 자동화로 누락·오류 발생률 크게 감소  
- 코드·패턴 재사용을 통해 프로젝트 간 **일관성과 생산성 향상**

